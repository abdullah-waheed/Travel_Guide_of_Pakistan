@model List<TravelGuide.Models.Category>
@{
    ViewBag.Title = "Edit City";
    string[] style = new string[1];
    style[0] = "/Content/css/hovereffect.css";
    ViewBag.style = style;
    Layout = "~/Views/Shared/GeneralLayout.cshtml";
    TravelGuide.Models.City c = ViewBag.City;
}
<div class="container-fluid">
    <div class="row">
        <br />
        <p style="color:red">If you want to remove an image, you shold Press <strong>'X'</strong> on the image</p>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-1"></div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-5">
        <form action="editCity" method = 'post' enctype="multipart/form-data">
            <br />
            <input type="hidden" name="city_id" value="@c.City_Id" />
            <fieldset>
	            <legend>EDIT PLACE DETAIL</legend>
	            <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		                <label>Change Province</label>
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		                <select name="province" id="countrySelector">
                            <option value="0">-Change Province-</option>
                            @{
                                foreach (var prov in Model)
                                {
                                    if (prov.Cat_Id == c.Cat_Id)
                                    {
                                        <option value="@prov.Cat_Id" selected>@prov.Name</option>
                                    }
                                    else
                                    {
                                        <option value="@prov.Cat_Id">@prov.Name</option>
                                    }
                                }
                            }
                        </select>
	                </div>
                </div>
                <br/>
	            <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-9">
		                <label>Change Name</label>
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		                <input type="text" name="pname" size="40" value="@c.Name" required />
                    </div>
	            </div>
	            <br/>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-9">
                        <label>Description</label>
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		                <textarea name="desc" cols="40" rows="5" required>@c.Description</textarea>
                    </div>
	            </div>
	            <br/>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-9">
		                <label>Change Map <span style="color:red;font-size:15px;"> (Enter the complete name of City)</span></label>
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		                <input type="text" name="map" size="40"  value="@c.Map" required />
                    </div>
	            </div>
                <br/>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-9">
		                <label>Change images of the City</label>
                    </div>
                </div>
                <br/>
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		                <input type="file" name="files" id="fileToUpload">
                    </div>
	            </div>
	            <br/>
        
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	                    <input type="submit" value="UPDATE">
                    </div>
                </div>
                <br />
            </fieldset>
            </form>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
            <br />
                <center><div class="container" style="position: relative;width: 50%;margin-left: inherit;">
                    <img class="image" src="/Content/images/@c.Image" width="600px" height="400px"/>
                    <div class="overlay"></div>
                    <div class="crossbutton" onclick="removeImgC(@c.City_Id)"><a href="javascript:void(0);"> &#10060 </a></div>
                    @*<div class="delbutton"><a href="/Admin/deletecity/@Model.ElementAt(i).Cat_Id"> DELETE </a></div>*@
                </div></center>
                <br />
        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $("#fileToUpload").change(function () {
            var imgName = $("#fileToUpload").val();
                 
                 $("#plimg");
                 //$.getJSON("/home/GetCities?id=" + countryId, function (data) {
                 //    $("#citySelctor").append('<option>-Select City-</option>');
                 //    $.each(data, function (i, item) {
                 //        $("#citySelctor").append('<option value=' + item.Id + '>' + item.Name + '</option>');
                 //        //alert('Id = ' + item.Id + " Name = " + item.Name);
                 //    });

                 //});
             });
         });
</script>